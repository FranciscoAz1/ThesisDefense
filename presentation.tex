%%%%%%%%%%%%%%%%%%%%%%%%%%%%% slides.tex %%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                                                    %
%  Beamer template for slideshow presentations                       %
%                                                                    %
%       Andre C. Marta                                               %
%       Area Cientifica de Mecanica Aplicada e Aeroespacial          %
%       Departamento de Engenharia Mecanica                          %
%       Instituto Superior Tecnico                                   %
%       Av. Rovisco Pais                                             %
%       1049-001 Lisboa                                              %
%       Portugal                                                     %
%       Tel: +351 21 841 9469                                        %
%                        3469 (extension)                            %
%       Email: andre.marta@tecnico.ulisboa.pt                        %
%                                                                    %
%  Created:       Jan 12, 2023                                       %
%  Last Modified: Jan 12, 2023                                       %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% This document uses:                                                %
% - LaTeX style "beamer.sty",                                        %
% - Beamer theme "beamerthemeIST.sty" (custom developed)             %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Beamer class options:                                              %
%                                                                    %
%   slidestop    - puts frame titles on the top left corner          %
%   compress     - makes all navigation bars as small as possible    %
%   blue,red,brown,baclandwhite - navigation bars and titles color   %
%   (default),handout, trans,notes=hide,show,only - pdf screen       %
%                 (128mmx96mm), pdf handout, pdf transparency, notes %
%   hyperref={bookmarks=false} - remove bookmarks                    %
%   (sans),sefif - text fonts                                        %
%   (mathsans), mathserif - math fonts                               %
%   8pt,9pt,10pt,(11pt),12pt,14pt,17pt,20pt - default font size      %
%   t,(c,)b      - vertical aligment for the entire document         %
%   draft        - show only figure place holders                    %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\documentclass[]{beamer}
\mode<presentation> {
  % Beamer theme - user-definable (fonts,colors,decorations,...)
  \usetheme{IST} % beamerthemeIST.sty
  }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Load additional LaTeX packages

% Mathematical typesetting from the American Mathematical Society
\usepackage{amssymb,amsmath}

% Working with graphics with PDF LaTeX: using the graphicx package to
% incorporate graphics in pdf, jpg or png formats.
\usepackage{graphicx}  % Enhanced LaTeX Graphics

% Ac­cept dif­fer­ent in­put en­cod­ings
% http://www.ctan.org/pkg/inputenc
\usepackage[utf8]{inputenc} % supports portuguese keyboard in Linux

%% Access bold symbols in math mode. 
%% http://www.ctan.org/tex-archive/help/Catalogue/entries/bm.html
\usepackage{bm}

% Redefine footnotesize (used for bibliographic references)
\let\oldfootnotesize\footnotesize
\renewcommand*{\footnotesize}{\oldfootnotesize\tiny}

% Display a grid to help align images
%\beamertemplategridbackground[1cm]

% Display logo in frame title
\usepackage{textpos}
\addtobeamertemplate{frametitle}{}{%
\begin{textblock*}{100mm}(.9\textwidth,-8mm)
\includegraphics[height=7mm]{figures/IST_A_gray_bg_crop.jpg}
\end{textblock*}}

%\logo{\includegraphics[height=0.8cm]{figures/IST_A_gray_bg_crop.jpg}\vspace{200pt}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Title, authors, affiliation and date
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\title[Enhancing Semantic Search]{Enhancing Semantic Search with Retrieval-Augmented Generation and Agentic AI}

% Add advisors (replace placeholders with real names)
% Updated with actual advisor names
\author[Francisco Azeredo]{\texorpdfstring{Francisco Azeredo\\\small Academic Advisor: Prof. Sérgio Luís Proença Duarte Guerreiro\\\small Industrial Advisor: Eng.º Filipe Mendes Correia (Link Consulting SA)}{Francisco Azeredo, Academic Advisor: Prof. Sérgio Luís Proença Duarte Guerreiro, Industrial Advisor: Eng.º Filipe Mendes Correia (Link Consulting SA)}}

\titlegraphic{\includegraphics[height=8mm]{figures/IST_A_white_bg_crop.jpg}}

\institute[IST]{Instituto Superior T\'{e}cnico, Universidade de Lisboa}

\date[Thesis Defense]{MSc Thesis Defense}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Frame options
%
%  plain            - supress drawing of header and footer decorations
%  containsverbatim - use verbatim environment and \verb command
%  allowframebreaks - automatic split of frames
%  shrink           - shrink the contents to fit in a single slide
%  squeeze          - squeeze vertical space
%  t,(c,)b          - top, center, bottom vertical alignment
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Title page
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}[plain] % supress drawing of header and footer decorations
  	\titlepage
\end{frame}

% Reset page counter to exclude title page
\addtocounter{framenumber}{-1}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% (No automatic outline frames; custom outline slide later)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%--------------------------------------------------------------------
% INTRODUCTION
%--------------------------------------------------------------------
\section{Outline}

\begin{frame}{Presentation Structure}
\begin{enumerate}
  \item Motivation and Problem
  \item Objectives
  \item Architecture and Components
  \item Related Work (Context)
  \item Evaluation and Results
  \item Conclusions and Future Work
\end{enumerate}
\end{frame}

\section{Motivation and Problem}

\begin{frame}{Enterprise Information Challenges}
\textbf{Critical Business Context:}
\begin{itemize}
  \item Enterprises rely on \textit{accurate, current} information for project approvals, compliance decisions, and operational governance
  \item \textbf{High-stakes work}: Incorrect or outdated information can lead to regulatory violations, project failures, or financial losses
\end{itemize}
\vspace{0.3em}
\textbf{Current Problems:}
\begin{itemize}
  \item Professionals spend significant time searching, reading, and analyzing multiple documents
  \item Manual verification of document dependencies creates \textbf{high cognitive load}
  \item Decisions risk relying on superseded or nullified information
  \item \textbf{Even modern semantic search systems fail} in critical situations—they cannot guarantee information currency or detect contradictions
\end{itemize}
\end{frame}

\begin{frame}{Context: Edoclink Enterprise}
\textbf{Document Management Platform:}
\begin{itemize}
  \item Organizes documents with structured workflows and business rules
  \item Supports evolution from ad-hoc to complex workflow configurations
  \item Enables end-to-end process automation and digitalization
  \item Features: document lifecycle management, collaborative work, ERP integration
  \item Used in public sector and enterprises with rich, complex processes
\end{itemize}
\vspace{0.4em}
\textbf{Thesis Opportunity:} Leverage this rich structure to enhance semantic search and retrieval accuracy.
\end{frame}
\begin{frame}{Problem Illustration}
    put this image
    https://www.bbc.com/news/war-in-ukraine
\end{frame}

\begin{frame}{Problem: Example Scenario}
	\textbf{Example Timeline}
\begin{itemize}
  \item Jan: Conflict escalation reported (doc A)
  \item Mar: Ceasefire agreement reached (doc B)
  \item Apr Query: ``What is the current status of the War in Ukraine?'' % chktex 38 allow
\end{itemize}
\textbf{Risk:} Retrieves A, ignores B.
\vspace{0.4em} \\
	\textbf{Core Challenge:} Capture and reason over document dependencies.
\end{frame}

\begin{frame}{Problem}
\begin{itemize}
  \item Current search methods don't account for information interdependencies
  \item GraphRAG ideas emerging; enterprise schemas underused
\end{itemize}
\vspace{0.3em}
\textbf{Conclusion:} Need interdependency-aware, structure-guided retrieval.
\end{frame}

\section{Objectives}

\begin{frame}{Objectives Overview}
\begin{itemize}
  \item \textbf{Represent} enterprise document structure and relations
  \item \textbf{Detect} updates / contradictions across documents
  \item \textbf{Enterprise Ready:}
  \begin{itemize}
      \item \textbf{Standardize} solution in emerging frameworks
      \item \textbf{Scale} to large information repositories
  \end{itemize}
  \item \textbf{Evaluate}: Evaluate efficiency, and quality of solutions
\end{itemize}
\end{frame}
%% Possibly remove
\begin{frame}{Objective Details}
\begin{enumerate}
  \item Schema design (workflows, entities, metadata)
  \item Graph construction (entity merging, references)
  \item Agent traversal (multi-hop, temporal ordering)
  \item MCP tools (validated queries, follow references)
  \item Evaluation (retrieval accuracy, answer quality)
\end{enumerate}
\end{frame}

\section{Architecture and Components}
\begin{frame}{Architecture Overview}
We developed 3 independent components for each step in document processing
\begin{enumerate}
  \item Insertion/Index (Automatic Knowledge Graph construction)
  \item Query (Query techniques, some that take better advantage of the graph)
  \item Generation (Context given to Agents or LLMs for a readable output)
\end{enumerate}
\vspace{0.3em}
\end{frame}

\begin{frame}{Knowledge Graph Construction}
\begin{enumerate}
  \item Extract entities and relationships
  \item Merge nodes with matching entities
  \item Store in a graph
\end{enumerate}
\vspace{0.3em}
\centering
\includegraphics[width=0.8\linewidth]{Images/Fluxograma_Data_Processing_Pipeline.jpeg}
\end{frame}

\begin{frame}{Query Techniques}
The query techniques go from the one of least latency to highest latency
\begin{enumerate}
  \item Semantic, BM25, and hybrid queries
  \item Query reformulation (extract entities and relations from query) for graph retrieval
    \item ReAct (Agent) queries using MCP server
\end{enumerate}
\centering
\includegraphics[width=0.6\linewidth]{Images/Fluxograma_Mini_Query.jpeg}
\end{frame}

\begin{frame}{Agent Configuration}
\begin{enumerate}
  \item Instructed to be a document assistant connected to a Weaviate database; answers are concise and grounded with sources.
  \item Tools via an MCP server that translate agent requests (natural language) to valid GraphQL over the schema.
  \item And descriptions of collections to guide collection selection.
\end{enumerate}
\end{frame}

\begin{frame}{MCP Server (Weaviate Bridge)}
\textbf{Context:} Agent–database communication layer \\
\vspace{0.4em}
\textbf{Core Point:} Enables schema-aware, validated queries for agentic retrieval
\begin{itemize}
  \item \textbf{Standard tool interface} for agents
  \item \textbf{Schema validation} for queries
  \item \textbf{Key tools:}
    \begin{itemize}
      \item weaviate-query: hybrid search and direct object retrieval
      \item weaviate-origin: return object with appended references context
      \item weaviate-follow-ref: follow one-hop references and return referenced objects
    \end{itemize}
\end{itemize}
\vspace{0.4em}
\textbf{Conclusion:} Enables agentic graph traversal and reliable, context-grounded answers
\end{frame}

\section{Evaluation and Results}

\begin{frame}{Evaluation Questions}
\begin{itemize}
  \item Does MiniRAG successfully capture document interdependency?
  \item Does the model for retrieval matter?
  \item How much can Agentic system improve retrieval and answer generation?
\end{itemize}
\end{frame}

\begin{frame}{MiniRAG Interdependencies}
	\textbf{Temporal QA Setting:} Dataset encodes time-stamped / evolving facts; correctness depends on capturing updates and supersessions (interdependent information). \\
\vspace{0.4em}
	\textbf{Objective:} Assess whether MiniRAG's profiling + relational reasoning improves Token Recall (temporal factual accuracy) over naive single-pass RAG. \\
\vspace{0.6em}
	\textbf{Token Recall (Temporal QA Benchmark)}
\begin{center}
\begin{tabular}{lcc}
\hline
System & Benchmark & Thesis (Qwen2.5-3B) \\
\hline
Naive RAG & 43\% & 44\% \\
MiniRAG & 49\% & 38\% \\
MiniRAG (gpt-4o-mini)* & 54\% & -- \\
MiniRAG Multi-Hop (gpt-4o-mini)* & 68.4\% & -- \\
\hline
\end{tabular}
\end{center}
\vspace{0.3em}
\footnote{Benchmarking with larger reasoning models was not performed due to prohibitive computational costs relative to expected benefits.}
\normalsize
\vspace{0.4em}
\end{frame}

\begin{frame}{Does the model matter?}
\textbf{Agentic RAG}: 60.4\% retrieval, 61\% correct answers ($\sim$2--4$\times$ over baselines)
\vspace{0.3em}
\begin{center}
  \input{tables_and_code/table_doc_retrieved_comparison}
\end{center}
\end{frame}

\begin{frame}{Multi-Collection Retrieval}
Agentic ReAct across multiple collections shows improvements due to curated collection descriptions that guide more informed semantic queries.
\begin{itemize}
  \item Correct collection selection
  \item 2--3$\times$ improvement across strategies
  \item Robust to format variation
\end{itemize}
\begin{center}
  \input{tables_and_code/table_documents_mixed.tex}
\end{center}
\end{frame}

\begin{frame}{Summarization, compressing storage}
Optimizations that select the most relevant text improve retrieval by reducing noise stored in the database.
\begin{table}[t]
\centering
\caption{Document retrieval and summarization metrics}
\label{tab:document_retrieved_metrics_summarization}
\begin{tabular}{lrrr}
\hline
Approach & Retrieval & Token Recall & Jaccard \\
\hline
Agentic ReAct (GPT-5)& 60.4\% & 61.1\%  & 55.7\%\\
LexRank & 33.6\% & 29.5\%  & 35.9\% \\
BART & 17.8\% & 3.0\% & 11.1\% \\
Naive RAG (Qwen2.5) & 13.8\% & 19.1\% & 22.1\% \\
\hline
\end{tabular}
\end{table}
\footnotesize Using Youden's J thresholds for classification boundaries.
\end{frame}

\begin{frame}{Integration for Edoclink's workflow organization}
\begin{itemize}
  \item Use Weaviate cross-references in a workflow-organized company database.
  \item Enforce ingestion rules for graph consistency and provenance.
  \item Agent performs multi-hop queries: files $\rightarrow$ stages $\rightarrow$ flows $\rightarrow$ entities.
  \item Store information in focused snippets for robust retrieval within context limits.
\end{itemize}
\begin{figure}
  \centering
  \includegraphics[width=0.6\linewidth]{image.png}
  \caption{Agent path over cross-referenced workflow to answer a question. "How is the war on Russia and Ukraine?"}
  \label{fig:workflow_agent_path}
\end{figure}
\end{frame}
 

\begin{frame}{Final Answer}
    Final answer. It remains an active, violent conflict. \\
    Grounding (evidence). \\
    • A matched stage in the “Russia vs Ukraine War” flow is tied to a report dated 2024-07-12 titled 
    “Drone attack hits military base”. \\
    • Excerpt: “A drone strike has reportedly destroyed parts of a military base near the front. Witnesses 
    describe significant damage and casualties.” \\
    \textbf{ Interpretation.}
    • Continued strikes on military targets near the front and ongoing casualties, involving both Russia
    and Ukraine as the referenced entities
\end{frame}

\section{Related Work}
\begin{frame}{Related Work:}
\begin{itemize}
  \item Google NotebookLM: personal, source-grounded assistant over curated notes; footnoted syntheses and study guides
  \item Perplexity AI: web-grounded conversational search with inline citations and multi-document aggregation
  \item Vector databases : Weaviate, Qdrant, and Milvus.
  \item Multi-Hop Agentic Retrieval: semi-structured enterprise information in ruled workflow configurations (e.g., Edoclink)
\end{itemize}
\end{frame}

\begin{frame}{Comparison to Prior Approaches}
    My solution Multi Hop Agentic Retrieval.
\begin{itemize}
  \item Integrates schema-driven traversal
  \item Standardizes graph access (MCP server)
  \item Focus: enterprise interdependency reliability
\end{itemize}
\end{frame}

\section{Conclusions and Future Work}

\begin{frame}{Conclusions}
\begin{itemize}
  \item \textbf{Graph-aware reasoning}: prevents outdated answers\pause
  \item \textbf{Structure-aware retrieval}: leverages cross-references and metadata for precision\pause % chktex 1 allow
  \item \textbf{Well-instructed agents}: schema-aware tools guide retrieval and sourcing\pause % chktex 1 allow
  \item \textbf{Tool standardization} enables reproducible agent pipelines
\end{itemize}
\end{frame}

\begin{frame}{Limitations}
\begin{itemize}
  \item Scale constrained (compute / budget)
  \item No public benchmark for workflow organized information (construction overhead)
  \item NLP ecosystem is highly dynamic; conclusions are time-bound % chktex 1 allow
  \item Model and embedding churn can change retrieval behavior % chktex 1 allow
  \item RAG and agent frameworks evolve; pin versions, datasets, prompts, and eval protocols % chktex 1 allow
\end{itemize}
\end{frame}

\begin{frame}{Future Work}
\begin{itemize}
  \item Integration with Edoclink platform, including it's access control layers.
  \item Beta testing multi-hop agentic retrieval in real-world enterprise settings.
  \item Benchmark release (structure-aware retrieval)
  \item Cache implementation for latency reduction in multi-hop retrieval
  \item Agentic Workflows (e.g, better Graph RAG, Relevant/Outdated information management, chatbot memory)
  \item More MCP for other applications
\end{itemize}


\end{frame}

\begin{frame}{Thank You}
\begin{center}
  \begin{block}{\LARGE Thank you!}
  \end{block}
  \vspace{1em}
  Francisco Azeredo\\
  Instituto Superior T\'ecnico\\
  Questions?
\end{center}
\end{frame}

\end{document}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

