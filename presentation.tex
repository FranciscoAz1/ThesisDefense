%%%%%%%%%%%%%%%%%%%%%%%%%%%%% slides.tex %%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                                                    %
%  Beamer template for slideshow presentations                       %
%                                                                    %
%       Andre C. Marta                                               %
%       Area Cientifica de Mecanica Aplicada e Aeroespacial          %
%       Departamento de Engenharia Mecanica                          %
%       Instituto Superior Tecnico                                   %
%       Av. Rovisco Pais                                             %
%       1049-001 Lisboa                                              %
%       Portugal                                                     %
%       Tel: +351 21 841 9469                                        %
%                        3469 (extension)                            %
%       Email: andre.marta@tecnico.ulisboa.pt                        %
%                                                                    %
%  Created:       Jan 12, 2023                                       %
%  Last Modified: Jan 12, 2023                                       %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% This document uses:                                                %
% - LaTeX style "beamer.sty",                                        %
% - Beamer theme "beamerthemeIST.sty" (custom developed)             %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Beamer class options:                                              %
%                                                                    %
%   slidestop    - puts frame titles on the top left corner          %
%   compress     - makes all navigation bars as small as possible    %
%   blue,red,brown,baclandwhite - navigation bars and titles color   %
%   (default),handout, trans,notes=hide,show,only - pdf screen       %
%                 (128mmx96mm), pdf handout, pdf transparency, notes %
%   hyperref={bookmarks=false} - remove bookmarks                    %
%   (sans),sefif - text fonts                                        %
%   (mathsans), mathserif - math fonts                               %
%   8pt,9pt,10pt,(11pt),12pt,14pt,17pt,20pt - default font size      %
%   t,(c,)b      - vertical aligment for the entire document         %
%   draft        - show only figure place holders                    %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\documentclass[]{beamer}
\mode<presentation> {
  % Beamer theme - user-definable (fonts,colors,decorations,...)
  \usetheme{IST} % beamerthemeIST.sty
  }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Load additional LaTeX packages

% Mathematical typesetting from the American Mathematical Society
\usepackage{amssymb,amsmath}

% Working with graphics with PDF LaTeX: using the graphicx package to
% incorporate graphics in pdf, jpg or png formats.
\usepackage{graphicx}  % Enhanced LaTeX Graphics

% Ac­cept dif­fer­ent in­put en­cod­ings
% http://www.ctan.org/pkg/inputenc
\usepackage[utf8]{inputenc} % supports portuguese keyboard in Linux

%% Access bold symbols in math mode. 
%% http://www.ctan.org/tex-archive/help/Catalogue/entries/bm.html
\usepackage{bm}

% Redefine footnotesize (used for bibliographic references)
\let\oldfootnotesize\footnotesize
\renewcommand*{\footnotesize}{\oldfootnotesize\tiny}

% Display a grid to help align images
%\beamertemplategridbackground[1cm]

% Display logo in frame title
\usepackage{textpos}
\addtobeamertemplate{frametitle}{}{%
\begin{textblock*}{100mm}(.9\textwidth,-8mm)
\includegraphics[height=7mm]{figures/IST_A_gray_bg_crop.jpg}
\end{textblock*}}

%\logo{\includegraphics[height=0.8cm]{figures/IST_A_gray_bg_crop.jpg}\vspace{200pt}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Title, authors, affiliation and date
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\title[Enhancing Semantic Search]{Enhancing Semantic Search with Retrieval-Augmented Generation and Agentic AI}

% Add advisors (replace placeholders with real names)
% Updated with actual advisor names
\author[Francisco Azeredo]{\texorpdfstring{Francisco Azeredo\\\small Academic Advisor: Prof. Sérgio Luís Proença Duarte Guerreiro\\\small Industrial Advisor: Eng.º Filipe Mendes Correia (Link Consulting SA)}{Francisco Azeredo, Academic Advisor: Prof. Sérgio Luís Proença Duarte Guerreiro, Industrial Advisor: Eng.º Filipe Mendes Correia (Link Consulting SA)}}

\titlegraphic{\includegraphics[height=8mm]{figures/IST_A_white_bg_crop.jpg}}

\institute[IST]{Instituto Superior T\'{e}cnico, Universidade de Lisboa}

\date[Thesis Defense]{MSc Thesis Defense}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Frame options
%
%  plain            - supress drawing of header and footer decorations
%  containsverbatim - use verbatim environment and \verb command
%  allowframebreaks - automatic split of frames
%  shrink           - shrink the contents to fit in a single slide
%  squeeze          - squeeze vertical space
%  t,(c,)b          - top, center, bottom vertical alignment
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Title page
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}[plain] % supress drawing of header and footer decorations
  	\titlepage
\end{frame}

% Reset page counter to exclude title page
\addtocounter{framenumber}{-1}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% (No automatic outline frames; custom outline slide later)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%--------------------------------------------------------------------
% INTRODUCTION
%--------------------------------------------------------------------
\section{Outline}

\begin{frame}{Presentation Structure}
\begin{enumerate}
  \item Motivation and Problem
  \item Objectives
  \item Architecture and Components
  \item Related Work (Context)
  \item Evaluation and Results
  \item Conclusions and Future Work
\end{enumerate}
\end{frame}

\section{Motivation and Problem}

\begin{frame}{Enterprise Information Challenges}
\textbf{Critical Business Context:}
\begin{itemize}
  \item Enterprises rely on \textit{accurate, current} information for project approvals, compliance decisions, and operational governance
  \item \textbf{High-stakes work}: Incorrect or outdated information can lead to regulatory violations, project failures, or financial losses
\end{itemize}
\vspace{0.3em}
\textbf{Current Problems:}
\begin{itemize}
  \item Professionals spend significant time searching, reading, and analyzing multiple documents
  \item Manual verification of document dependencies creates \textbf{high cognitive load}
  \item Decisions risk relying on superseded or nullified information
  \item \textbf{Even modern semantic search systems fail} in critical situations—they cannot guarantee information currency or detect contradictions
\end{itemize}
\end{frame}

\begin{frame}{Context: Edoclink Enterprise}
\textbf{Document Management Platform:}
\begin{itemize}
  \item Organizes documents with structured workflows and business rules
  \item Supports evolution from ad-hoc to complex workflow configurations
  \item Enables end-to-end process automation and digitalization
  \item Features: document lifecycle management, collaborative work, ERP integration
  \item Used in public sector and enterprises with rich, complex processes
\end{itemize}
\vspace{0.4em}
\textbf{Thesis Opportunity:} Leverage this rich structure to enhance semantic search and retrieval accuracy.
\end{frame}
\begin{frame}{Problem Illustration}
    put this image
    https://www.bbc.com/news/war-in-ukraine
\end{frame}

\begin{frame}{Problem: Example Scenario}
	\textbf{Example Timeline}
\begin{itemize}
  \item Jan: Russia declared war on Ukraine (report A)
  \item Mar: Russia and Ukraine agreed on a ceasefire (doc B)
  \item Apr Query: ``How is the war in Ukraine?'' % chktex 38 allow
\end{itemize}
	\textbf{Risk:} Retrieves A, ignores B..
\vspace{0.4em} \\
	\textbf{Core Challenge:} Capture and reason over document dependencies.
\end{frame}

\begin{frame}{Problem}
\begin{itemize}
  \item Current search methods don't account for information interdependencies
  \item GraphRAG ideas emerging; enterprise schemas underused
\end{itemize}
\end{frame}

\section{Objectives}

\begin{frame}{Objectives Overview}
\begin{itemize}
  \item \textbf{Represent} enterprise document structure and relations
  \item \textbf{Detect} updates / contradictions across documents
  \item \textbf{Enterprise Ready:}
  \begin{itemize}
      \item \textbf{Standardize} easy to implement solution in current emerging frameworks
      \item \textbf{Scalability} Work with highly scalable repositories of information
  \end{itemize}
  \item \textbf{Evaluate}: Evaluate efficiency, and quality of solutions
\end{itemize}
\end{frame}
%% Possibly remove
\begin{frame}{Objective Details}
\begin{enumerate}
  \item Schema design (workflows, entities, metadata)
  \item Graph construction (entity merging, references)
  \item Agent traversal (multi-hop, temporal ordering)
  \item MCP tools (validated queries, follow references)
  \item Evaluation (retrieval accuracy, answer quality)
\end{enumerate}
\end{frame}

\section{Architecture and Components}
\begin{frame}{Architecture Overview}
We developed 3 independent components for each step in document processing
\begin{enumerate}
  \item Insertion/Index (Automatic Knowledge Graph construction)
  \item Query (Query techniques, some that take better advantage of the graph)
  \item Generation (Context given to Agents or LLMs for a readable output)
\end{enumerate}
\vspace{0.3em}
\end{frame}

\begin{frame}{Knowledge graph construction}
\begin{enumerate}
  \item Extract entities and relationships
  \item Merge nodes with matching entities
  \item Store in a graph
\end{enumerate}
\vspace{0.3em}
\centering
\includegraphics[width=0.8\linewidth]{Images/Fluxograma_Data_Processing_Pipeline.jpeg}
\end{frame}

\begin{frame}{Query Techniques}
The query techniques go from the one of least latency to highest latency
\begin{enumerate}
    \item Semantic, bm25 and hybrid queries
    \item query reformulation (Extract entities and relationships from query) for graph retrieval
    \item ReAct (Agent) queries using MCP server
\end{enumerate}
\centering
\includegraphics[width=0.6\linewidth]{Images/Fluxograma_Mini_Query.jpeg}
\end{frame}

\begin{frame}{Agent Configuration}
\begin{enumerate}
  \item Instructed to be a document assistant, connected to a weaviate database, where it should base all of it's answers. And answer in a concise way with sources of information.
  \item Tools to a MCP server, that handles communication from the Agent (natural language) to the weaviate server (graphQL)
\end{enumerate}
\end{frame}

\begin{frame}{MCP Server (Weaviate Bridge)}
Valuable communications
\begin{itemize}
  \item Standard tool interface for agents
  \item Validated schema-aware queries
  \item Tools: weaviate-query, weaviate-origin, weaviate-follow-ref
\end{itemize}
weviate-origin appends the weaviate object to the LLM with references of that object, described by the relationship
weaviate-follow-ref is used for querying by following references of an object, and then doing the same weaviate-origin. Enabling agentic graph traversal.
\end{frame}

\section{Evaluation and Results}

\begin{frame}{Evaluation Questions}
\begin{itemize}
  \item Does MiniRAG successfully capture document interdependency?
  \item Does the model for retrieval matter?
  \item How much can Agentic system improve retrieval and answer generation?
\end{itemize}
\end{frame}

\begin{frame}{MiniRag Interdependencies}
Comparing MiniRaG to naive RAG with the new models, we tested with the same benchmark tested in MiniRAG both solutions, and control was the same as the results on the page on github. The score for naive RAG was the same, but for MiniRAG was lower. Which we conclude that using a light model such as Qwen2.5-3B doesn't bring good results. Althought the benchmarks in the page show that using gpt-4o-mini the results were 68.43 \%. Which even if inflated proves to capture temporal dependency through LLM Profiling.
My results token recall 44 \% Naive RAG,  38\% mini, 27\% light
Whereas the benchmark had 43 \%  Naive RAG, and light 39 \% and MiniRAG  49 \%. We see a 11 \% inflation in miniRAG, and the highest score using a reasoning model was 54 \% and mini a 68 \%. The difference between naive and mini increases with the model. Meaning this method could be good but expensive with a better model. For the lack of funding in this thesis we didn't test this model.
\end{frame}

    

\begin{frame}{Does the model matter?}
\textbf{Agentic RAG}: 60.4\% retrieval, 61\% correct answers ($\sim$2--4$\times$ over baselines)
\vspace{0.3em}
\begin{center}
  \input{tables_and_code/table_doc_retrieved_comparison}
\end{center}
\end{frame}

\begin{frame}{Multi-Collection Retrieval}
Agentic ReAct across multiple collections, shows improvements because of the use of more curated descriptions of the collections which guided the agent to make a more informed semantic query
\begin{itemize}
  \item Correct collection selection
  \item 2--3$\times$ improvement across strategies
  \item Robust to format variation
\end{itemize}
\begin{center}
  \input{tables_and_code/table_documents_mixed.tex}
\end{center}
\end{frame}

\begin{frame}{Summarization, compressing storage}
Optimization's by choosing the most relevant text, actually improves the retrieval by reducing noise of information going to the database.
\begin{table}[t]
\centering
\caption{Document retrieval and summarization metrics}
\label{tab:document_retrieved_metrics_summarization}
\begin{tabular}{lrrr}
\hline
Approach & Retrieval & token recall & jaccard \\
\hline
Agentic ReAct (GPT-5)& 60.4\% & 61.1\%  & 55.7\%\\
LexRank & 33.6\% & 29.5\%  & 35.9\% \\
BART & 17.8\% & 3.0\% & 11.1\% \\
Naive RAG (Qwen2.5) & 13.8\% & 19.1\% & 22.1\% \\
\hline
\end{tabular}
\end{table}
Using Youden's thresholds
\end{frame}

\begin{frame}{Integration for Edoclink's workflow organization}
    We experiment a use case where we use weaviate's cross-references in a general company workflow. In this implementation there are rules for putting document's into the database. And we show a use-case that it is used agentic multi-hop through queries to jump through a graph organized database.
    The agent's identifies flows, and navigate's through them reasoning on disperse information. 
    \begin{figure}
        \centering
        \includegraphics[width=0.5\linewidth]{image.png}
        \caption{Figure shows the flow of the agent to find information about the question How is the War on Russia and Ukraine?}
        \label{fig:placeholder}
    \end{figure}
    The agent's searches decides to search the files, then the stages, then the flux and then the entities. Giving a fully informed and grounded answer. This enables to store information in snippets, and trusting the agent's reasoning to find information with discovery. Instead of feeding very large documents hoping it finds the needed information, and the information is in the documents. Which due to limited context and context drift in agent's it is not recommended.
\end{frame}

\begin{frame}{Final Answer}
    Final answer. It remains an active, violent conflict. \\
    Grounding (evidence). \\
    • A matched stage in the “Russia vs Ukraine War” flow is tied to a report dated 2024-07-12 titled 
    “Drone attack hits military base”. \\
    • Excerpt: “A drone strike has reportedly destroyed parts of a military base near the front. Witnesses 
    describe significant damage and casualties.” \\
    Interpretation.
    • Continued strikes on military targets near the front and ongoing casualties, involving both Russia
    and Ukraine as the referenced entities
\end{frame}

\section{Related Work}
\begin{frame}{Related Work:}
\begin{itemize}
  \item Google NotebookLM : focuses on a personal, source-grounded assistant over curated notes and
documents, producing footnoted syntheses and study guides
  \item Perplexity AI : provides web-grounded conversational search with inline citations and multi-document
aggregatio
  \item Vector databases : Weaviate, Qdrant, and Milvus.
  \item Multi Hop Agentic Retrieval : semi-structured enterprise information, in ruled workflow configurations. Found in platform's such as Edoclink.
\end{itemize}
\end{frame}

\begin{frame}{Comparison to Prior Approaches}
    My solution Multi Hop Agentic Retrieval.
\begin{itemize}
  \item Integrates schema-driven traversal
  \item Standardizes graph access (MCP server)
  \item Focus: enterprise interdependency reliability
\end{itemize}
\end{frame}

\section{Conclusions and Future Work}

\begin{frame}{Main Contributions}
\begin{enumerate}
  \item Formalized enterprise interdependency retrieval problem
  \item Schema + graph architecture for dynamic updates
  \item Agentic multi-hop traversal (temporal aware)
  \item MCP Weaviate server (standardized tools)
  \item Empirical gains (2–4× over baselines)
\end{enumerate}
\end{frame}

\begin{frame}{Conclusions}
\begin{itemize}
  \item \textbf{Graph-aware reasoning}: prevents outdated answers\pause
  \item \textbf{Temporal ordering}: resolves contradictions\pause
  \item \textbf{Schema constraints}: reduce hallucination surface\pause
  \item \textbf{Tool standardization} enables reproducible agent pipelines
\end{itemize}
\end{frame}

\begin{frame}{Limitations}








\begin{itemize}
  \item Scale constrained (compute / budget)
  \item No public benchmark (construction overhead)
  \item Residual hallucinations possible
  \item Need deeper privacy/ACL integration
\end{itemize}
\end{frame}

\begin{frame}{Future Work}
\begin{itemize}
  \item Larger-scale graph + incremental updates
  \item Benchmark release (structure-aware retrieval)
  \item Multi-agent verification and consistency checks
  \item Integration with access control layers
  \item Publication submission (CONF NAME / JOURNAL TBD)
\end{itemize}
\end{frame}

\begin{frame}{Thank You}
\begin{center}
  \begin{block}{\LARGE Thank you!}
  \end{block}
  \vspace{1em}
  Francisco Azeredo\\
  Instituto Superior T\'ecnico\\
  Questions?
\end{center}
\end{frame}

\end{document}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

