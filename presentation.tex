%%%%%%%%%%%%%%%%%%%%%%%%%%%%% slides.tex %%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                                                    %
%  Beamer template for slideshow presentations                       %
%                                                                    %
%       Andre C. Marta                                               %
%       Area Cientifica de Mecanica Aplicada e Aeroespacial          %
%       Departamento de Engenharia Mecanica                          %
%       Instituto Superior Tecnico                                   %
%       Av. Rovisco Pais                                             %
%       1049-001 Lisboa                                              %
%       Portugal                                                     %
%       Tel: +351 21 841 9469                                        %
%                        3469 (extension)                            %
%       Email: andre.marta@tecnico.ulisboa.pt                        %
%                                                                    %
%  Created:       Jan 12, 2023                                       %
%  Last Modified: Jan 12, 2023                                       %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% This document uses:                                                %
% - LaTeX style "beamer.sty",                                        %
% - Beamer theme "beamerthemeIST.sty" (custom developed)             %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Beamer class options:                                              %
%                                                                    %
%   slidestop    - puts frame titles on the top left corner          %
%   compress     - makes all navigation bars as small as possible    %
%   blue,red,brown,baclandwhite - navigation bars and titles color   %
%   (default),handout, trans,notes=hide,show,only - pdf screen       %
%                 (128mmx96mm), pdf handout, pdf transparency, notes %
%   hyperref={bookmarks=false} - remove bookmarks                    %
%   (sans),sefif - text fonts                                        %
%   (mathsans), mathserif - math fonts                               %
%   8pt,9pt,10pt,(11pt),12pt,14pt,17pt,20pt - default font size      %
%   t,(c,)b      - vertical aligment for the entire document         %
%   draft        - show only figure place holders                    %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\documentclass[]{beamer}
\mode<presentation> {
  % Beamer theme - user-definable (fonts,colors,decorations,...)
  \usetheme{IST} % beamerthemeIST.sty
  }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Load additional LaTeX packages

% Mathematical typesetting from the American Mathematical Society
\usepackage{amssymb,amsmath}

% Working with graphics with PDF LaTeX: using the graphicx package to
% incorporate graphics in pdf, jpg or png formats.
\usepackage{graphicx}  % Enhanced LaTeX Graphics

% Ac­cept dif­fer­ent in­put en­cod­ings
% http://www.ctan.org/pkg/inputenc
\usepackage[utf8]{inputenc} % supports portuguese keyboard in Linux

%% Access bold symbols in math mode. 
%% http://www.ctan.org/tex-archive/help/Catalogue/entries/bm.html
\usepackage{bm}

% Redefine footnotesize (used for bibliographic references)
\let\oldfootnotesize\footnotesize
\renewcommand*{\footnotesize}{\oldfootnotesize\tiny}

% Display a grid to help align images
%\beamertemplategridbackground[1cm]

% Display logo in frame title
\usepackage{textpos}
\addtobeamertemplate{frametitle}{}{%
\begin{textblock*}{100mm}(.9\textwidth,-8mm)
\includegraphics[height=7mm]{figures/IST_A_gray_bg_crop.jpg}
\end{textblock*}}

%\logo{\includegraphics[height=0.8cm]{figures/IST_A_gray_bg_crop.jpg}\vspace{200pt}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Title, authors, affiliation and date
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\title[Enhancing Semantic Search]{Enhancing Semantic Search with Retrieval-Augmented Generation and Agentic AI}

% Add advisors (replace placeholders with real names)
% Updated with actual advisor names
\author[Francisco Azeredo]{Francisco Azeredo\\\small Academic Advisor: Prof. Sérgio Luís Proença Duarte Guerreiro\\\small Industrial Advisor: Eng.º Filipe Mendes Correia (Link Consulting SA)}

\titlegraphic{\includegraphics[height=8mm]{figures/IST_A_white_bg_crop.jpg}}

\institute[IST]{Instituto Superior T\'{e}cnico, Universidade de Lisboa}

\date[Thesis Defense]{MSc Thesis Defense}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Frame options
%
%  plain            - supress drawing of header and footer decorations
%  containsverbatim - use verbatim environment and \verb command
%  allowframebreaks - automatic split of frames
%  shrink           - shrink the contents to fit in a single slide
%  squeeze          - squeeze vertical space
%  t,(c,)b          - top, center, bottom vertical alignment
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Title page
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}[plain] % supress drawing of header and footer decorations
  	\titlepage
\end{frame}

% Reset page counter to exclude title page
\addtocounter{framenumber}{-1}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% (No automatic outline frames; custom outline slide later)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%--------------------------------------------------------------------
% INTRODUCTION
%--------------------------------------------------------------------
\section{Outline}

\begin{frame}{Presentation Structure}
\begin{enumerate}
  \item Motivation and Problem
  \item Objectives
  \item Architecture and Components
  \item Related Work (Context)
  \item Evaluation and Results
  \item Conclusions and Future Work
\end{enumerate}
\end{frame}

\section{Motivation and Problem}

\begin{frame}{Enterprise Information Challenges}
\textbf{Critical Business Context:}
\begin{itemize}
  \item Enterprises rely on \textit{accurate, current} information for project approvals, compliance decisions, and operational governance
  \item \textbf{High-stakes work}: Incorrect or outdated information can lead to regulatory violations, project failures, or financial losses
\end{itemize}
\vspace{0.3em}
\textbf{Current Problems:}
\begin{itemize}
  \item Professionals spend significant time searching, reading, and analyzing multiple documents
  \item Manual verification of document dependencies creates \textbf{high cognitive load}
  \item Decisions risk relying on superseded or nullified information
  \item \textbf{Even modern semantic search systems fail} in critical situations—they cannot guarantee information currency or detect contradictions
\end{itemize}
\end{frame}

\begin{frame}{Context: Edoclink Enterprise}
\textbf{Document Management Platform:}
\begin{itemize}
  \item Organizes documents with structured workflows and business rules
  \item Supports evolution from ad-hoc to complex workflow configurations
  \item Enables end-to-end process automation and digitalization
  \item Features: document lifecycle management, collaborative work, ERP integration
  \item Used in public sector and enterprises with rich, complex processes
\end{itemize}
\vspace{0.4em}
\textbf{Thesis Opportunity:} Leverage this rich structure to enhance semantic search and retrieval accuracy.
\end{frame}

\begin{frame}{Problem: Example Scenario}
	\textbf{Example Timeline}
\begin{itemize}
  \item Jan: Approve Vendor X (doc A)
  \item Mar: Suspend Vendor X (doc B)
  \item Apr Query: ``Can we contract Vendor X?'' % chktex 38 allow
\end{itemize}
	\textbf{Risk:} Retrieves A, ignores B..
\vspace{0.4em} \\
	\textbf{Core Challenge:} Capture and reason over document dependencies.
\end{frame}



% \begin{frame}{Problem: Interdependent Information}
% 	\textbf{Challenges}
% \begin{itemize}
%   \item Updates invalidate older assertions
%   \item Temporal precedence matters
%   \item Keyword search misses structure
%   \item Naive RAG ignores relationships
% \end{itemize}
% \end{frame}

\begin{frame}{Research Gap}
\begin{itemize}
  \item No standard tooling for dependency-aware retrieval
  \item GraphRAG ideas emerging; enterprise schemas underused
  \item Agents lack validated schema-constrained traversal tools
  \item Need: Hybrid semantic + structural + temporal reasoning
\end{itemize}
\end{frame}

\section{Objectives}

\begin{frame}{Objectives Overview}
\begin{itemize}
  \item \textbf{Represent} enterprise document structure and relations
  \item \textbf{Detect} updates / contradictions across documents
  \item \textbf{Reason} with agents over a knowledge graph
  \item \textbf{Standardize} access (MCP server for Weaviate)
  \item \textbf{Evaluate}: compare naive and baseline RAG
\end{itemize}
\end{frame}
\begin{frame}{Thesis Objectives}
\textbf{Main goal:} Handle information interdependencies through graph-based agentic reasoning.
\vspace{0.5em}
\end{frame}

\begin{frame}{Objective Details}
\begin{enumerate}
  \item Schema design (workflows, entities, metadata)
  \item Graph construction (entity merging, references)
  \item Agent traversal (multi-hop, temporal ordering)
  \item MCP tools (validated queries, follow references)
  \item Evaluation (retrieval accuracy, answer quality)
\end{enumerate}
\end{frame}

\section{Architecture and Components}

\begin{frame}{Architecture Overview}
\begin{enumerate}
  \item Ingestion (OCR, chunking, embeddings)
  \item Storage (Vector DB + Graph)
  \item Reasoning (Agent + MCP tools)
\end{enumerate}
\vspace{0.3em}
\includegraphics[width=0.8\linewidth]{Images/Fluxograma_Data_Processing_Pipeline.jpeg}
\end{frame}

\begin{frame}{Schema Data Model}
Six core classes:
\begin{itemize}
  \item Workflow (Fluxo), Step (Etapa)
  \item Entity (Entidade)
  \item Folder (Pasta), File (Ficheiro), Metadata (Metadados)
\end{itemize}
Cross-references enable semantic + deterministic traversal.
\begin{center}
  \includegraphics[width=0.6\linewidth]{Images/Classe UML.png}
\end{center}
\end{frame}

\begin{frame}{Graph Construction}
\begin{itemize}
  \item Extract entities from chunks (LLM assisted)
  \item Merge nodes with matching entities
  \item Maintain references (updates, supersedes)
  \item Output: lightweight knowledge graph
\end{itemize}
\begin{center}
  \includegraphics[width=0.5\linewidth]{Images/graph_visualisation_big.png}
\end{center}
\end{frame}

\begin{frame}{Agent Traversal Flow}
\begin{enumerate}
  \item Parse query (entities + time)
  \item Hybrid retrieval (vector + filters)
  \item Follow graph refs (updates/nullifications)
  \item Assemble consistent evidence set
  \item Generate answer (current state)
\end{enumerate}
\includegraphics[width=0.6\linewidth]{Images/Fluxograma_Mini_Query.jpeg}
\end{frame}

\begin{frame}{MCP Server (Weaviate Bridge)}
\begin{itemize}
  \item Standard tool interface for agents
  \item Validated schema-aware queries
  \item Tools: weaviate-query, weaviate-follow-ref
  \item Enables safe multi-hop reasoning
\end{itemize}
\includegraphics[width=0.55\linewidth]{Images/Sequence-diagram-Weaviate-Query.png}
\end{frame}

\begin{frame}{Control Perspective (Robotics/AI)}
\begin{itemize}
  \item Retrieval = perception layer
  \item Graph = system state representation
  \item Agent traversal = planning refinement loop
  \item Updates = state correction (feedback)
  \item Ensures consistent decision inputs
\end{itemize}
\end{frame}

\section{Related Work}

\begin{frame}{Related Work: Semantic and Graph RAG}
\begin{itemize}
  \item Keyword enterprise search: lacks semantics/structure
  \item Classic RAG: isolated chunk retrieval
  \item Emerging GraphRAG: entity/relationship surfacing
  \item Gap: temporal nullification + standardized tooling
\end{itemize}
\end{frame}

\begin{frame}{Comparison to Prior Approaches}
\begin{itemize}
  \item Adds temporal precedence handling
  \item Integrates schema-driven traversal
  \item Standardizes graph access (MCP server)
  \item Focus: enterprise interdependency reliability
\end{itemize}
\end{frame}

\section{Evaluation and Results}

\begin{frame}{Evaluation Questions}
\begin{itemize}
  \item Does graph traversal improve retrieval accuracy?
  \item Does dependency handling improve answer correctness?
  \item Does hybrid search generalize across collections?
\end{itemize}
\end{frame}

\begin{frame}{Single-Collection Performance}
\textbf{Agentic RAG}: 60.4\% retrieval, 61\% correct answers ($\sim$2--4$\times$ over baselines)
\vspace{0.3em}
\begin{center}
  \input{tables_and_code/table_document_retrieved_metrics.tex}
\end{center}
\footnotesize Threshold via Youden optimization.
\end{frame}

\begin{frame}{Multi-Collection Retrieval}
\textbf{Generalization across heterogeneous sources}
\begin{itemize}
  \item Correct collection selection
  \item 2--3$\times$ improvement across strategies
  \item Robust to format variation
\end{itemize}
\begin{center}
  \input{tables_and_code/table_documents_mixed.tex}
\end{center}
\end{frame}

\begin{frame}{Key Result Insights}
\begin{itemize}
  \item Multi-hop reasoning reduces outdated answers
  \item Temporal ordering prevents contradiction leakage
  \item Graph adds structured context beyond embeddings
\end{itemize}
\end{frame}

\section{Conclusions and Future Work}

\begin{frame}{Main Contributions}
\begin{enumerate}
  \item Formalized enterprise interdependency retrieval problem
  \item Schema + graph architecture for dynamic updates
  \item Agentic multi-hop traversal (temporal aware)
  \item MCP Weaviate server (standardized tools)
  \item Empirical gains (2–4× over baselines)
\end{enumerate}
\end{frame}

\begin{frame}{Conclusions}
\begin{itemize}
  \item \textbf{Graph-aware reasoning}: prevents outdated answers\pause
  \item \textbf{Temporal ordering}: resolves contradictions\pause
  \item \textbf{Schema constraints}: reduce hallucination surface\pause
  \item \textbf{Tool standardization} enables reproducible agent pipelines
\end{itemize}
\end{frame}

\begin{frame}{Limitations}
\begin{itemize}
  \item Scale constrained (compute / budget)
  \item No public benchmark (construction overhead)
  \item Residual hallucinations possible
  \item Need deeper privacy/ACL integration
\end{itemize}
\end{frame}

\begin{frame}{Future Work}
\begin{itemize}
  \item Larger-scale graph + incremental updates
  \item Benchmark release (structure-aware retrieval)
  \item Multi-agent verification and consistency checks
  \item Integration with access control layers
  \item Publication submission (CONF NAME / JOURNAL TBD)
\end{itemize}
\end{frame}

\begin{frame}{Thank You}
\begin{center}
  \begin{block}{\LARGE Thank you!}
  \end{block}
  \vspace{1em}
  Francisco Azeredo\\
  Instituto Superior T\'ecnico\\
  Questions?
\end{center}
\end{frame}

\end{document}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

